<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.91.2" />
    <meta name="description" content="Documentation for Hugo Learn Theme">
<meta name="author" content="Mathieu Cornic">

    <title>The Basics of Rasters :: Environmental Computing</title>

    
    <link href="/css/nucleus.css?1643067537" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1643067537" rel="stylesheet">
    <link href="/css/hybrid.css?1643067537" rel="stylesheet">
    <link href="/css/featherlight.min.css?1643067537" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1643067537" rel="stylesheet">
    <link href="/css/auto-complete.css?1643067537" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1643067537" rel="stylesheet">
    <link href="/css/theme.css?1643067537" rel="stylesheet">
    <link href="/css/tabs.css?1643067537" rel="stylesheet">
    <link href="/css/hugo-theme.css?1643067537" rel="stylesheet">
    
    <link href="/css/theme-green.css?1643067537" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1643067537"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/graphics/spatial-vis/basic-raster/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/'>

<svg id="grav-logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	width="100%" height="100%"  viewBox="0 0 285.1 69.9" xml:space="preserve">
<g>
	<path d="M35,0c9.6,0,17.9,3.4,24.7,10.3c6.8,6.8,10.3,15,10.3,24.7c0,9.7-3.4,17.9-10.3,24.7c-6.8,6.8-15,10.3-24.7,10.3
		c-9.7,0-17.9-3.4-24.7-10.3C3.4,52.8,0,44.6,0,34.9c0-9.6,3.4-17.9,10.3-24.7C17.1,3.4,25.3,0,35,0z M22.3,63.7
		c0.3-7.4,0.3-14.7,0-22.1c-2.1-0.4-4-0.4-5.9,0c-0.2,0.8-0.2,2.5-0.1,4.9c0.1,2.3,0,3.9-0.3,4.8c-1.7-0.6-2.7-2.1-3.1-4.6
		c-0.1-0.7-0.1-3.3-0.1-8c0-14.5-0.1-23-0.3-25.6c-3.6,4.1-5.6,7-5.9,8.5v10.9c0,4.5,0.1,8.1,0.2,10.9c0,0.4,0,1.3-0.1,2.8
		c-0.1,1.2,0,2.1,0.1,2.6c0.1,0.6,1.1,2.1,2.8,4.7C13.2,58.7,17.5,62.2,22.3,63.7z M44.6,65.4c0.3-5,0.2-12.9-0.1-23.6
		c-2.1-0.3-4.1-0.3-5.9,0c-0.2,2-0.2,5.1-0.1,9.5c0.1,4.3,0,7.5-0.1,9.5c-2.9,0.4-5,0.3-6.2-0.1c-0.2-5.6-0.2-15.2-0.1-28.7
		c0.1-12.4,0-21.8-0.3-28.3c-2.4,0.1-4.3,0.6-5.7,1.3c-0.1,7.7-0.2,17.7-0.1,30.1c0,16.5,0,26.6,0,30.3c2.3,1.1,5.4,1.7,9.4,1.7
		C38.9,66.9,42.1,66.4,44.6,65.4z M48.1,64.1c9.7-4.6,15.7-12,18-22.2c-1.8-0.2-3.8-0.3-6.1-0.3c-1.6,3.9-2.6,6.3-3.2,7.2
		c-1.1,1.7-2,2.5-2.7,2.5C54,46,54,39.1,54,30.5c0-11.5,0-18.4,0-20.9c-1.4-1.4-3.3-2.5-5.7-3.4C48.1,6.3,48,6.4,48,6.7
		c0,3.5,0,13.1,0,28.8C47.9,47.2,48,56.8,48.1,64.1z"/>
</g>
<g>
	<path d="M116.6,51.3h-29c-0.5,0-0.9-0.1-1.3-0.2c-0.4-0.2-0.7-0.4-1-0.7c-0.3-0.3-0.5-0.6-0.7-1c-0.2-0.4-0.2-0.8-0.2-1.3V16.3h6.3
		V45h25.8V51.3z"/>
	<path d="M154.8,51.3h-22.9c-0.9,0-1.8-0.2-2.9-0.5c-1-0.3-2-0.8-2.9-1.5c-0.9-0.7-1.6-1.6-2.2-2.8c-0.6-1.1-0.9-2.5-0.9-4.2V19.5
		c0-0.4,0.1-0.9,0.2-1.2c0.2-0.4,0.4-0.7,0.7-1c0.3-0.3,0.6-0.5,1-0.7c0.4-0.2,0.8-0.2,1.3-0.2h28.6v6.3h-25.4v19.8
		c0,0.8,0.2,1.5,0.7,1.9s1.1,0.7,1.9,0.7h22.9V51.3z M151.9,37h-20v-6.4h20V37z"/>
	<path d="M197.3,51.3H191v-8.6h-22.3v8.6h-6.3V33.8c0-2.6,0.4-4.9,1.3-7.1s2.1-4,3.7-5.5c1.6-1.5,3.4-2.8,5.5-3.6
		c2.1-0.9,4.5-1.3,7-1.3h14.3c0.4,0,0.9,0.1,1.2,0.2c0.4,0.2,0.7,0.4,1,0.7s0.5,0.6,0.7,1c0.2,0.4,0.2,0.8,0.2,1.2V51.3z
		 M168.7,36.4H191V22.6h-11.2c-0.2,0-0.6,0-1.2,0.1c-0.6,0.1-1.4,0.2-2.2,0.4c-0.8,0.2-1.7,0.6-2.6,1c-0.9,0.5-1.8,1.1-2.5,2
		c-0.8,0.8-1.4,1.9-1.9,3.1c-0.5,1.2-0.7,2.8-0.7,4.5V36.4z"/>
	<path d="M241.7,28.1c0,1.4-0.2,2.7-0.5,3.9c-0.4,1.1-0.8,2.1-1.5,3c-0.6,0.9-1.3,1.6-2.1,2.2c-0.8,0.6-1.6,1.1-2.5,1.5
		c-0.9,0.4-1.8,0.7-2.6,0.9c-0.9,0.2-1.7,0.3-2.5,0.3l13.3,11.5h-9.8l-13.2-11.5h-4.6v-6.3H230c0.8-0.1,1.5-0.2,2.2-0.5
		c0.7-0.3,1.2-0.6,1.7-1.1c0.5-0.5,0.9-1,1.1-1.6c0.3-0.6,0.4-1.4,0.4-2.2v-4c0-0.4,0-0.6-0.1-0.8c-0.1-0.2-0.2-0.3-0.3-0.4
		c-0.1-0.1-0.3-0.1-0.4-0.2c-0.2,0-0.3,0-0.4,0h-20.9v28.7h-6.3V19.5c0-0.4,0.1-0.9,0.2-1.2c0.2-0.4,0.4-0.7,0.7-1
		c0.3-0.3,0.6-0.5,1-0.7c0.4-0.2,0.8-0.2,1.3-0.2H234c1.4,0,2.6,0.3,3.6,0.8s1.8,1.2,2.4,1.9c0.6,0.8,1,1.6,1.3,2.5
		c0.3,0.9,0.4,1.7,0.4,2.5V28.1z"/>
	<path d="M285.1,48.6c0,0.5-0.1,0.9-0.3,1.3c-0.2,0.4-0.4,0.7-0.7,1c-0.3,0.3-0.6,0.5-1,0.7c-0.4,0.2-0.8,0.2-1.2,0.2
		c-0.4,0-0.8-0.1-1.2-0.2c-0.4-0.1-0.8-0.4-1.1-0.7l-23.2-24.2v24.7h-6.3V19c0-0.7,0.2-1.2,0.5-1.8c0.4-0.5,0.8-0.9,1.4-1.2
		c0.6-0.2,1.2-0.3,1.9-0.2s1.2,0.4,1.6,0.9l23.2,24.2V16.3h6.3V48.6z"/>
</g>
</svg>

</a>

<img src="/images/E_C_Logo.png" alt="mylogo.jpg">

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1643067537"></script>
<script type="text/javascript" src="/js/auto-complete.js?1643067537"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1643067537"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/about-this-site/" title="About This Site" class="dd-item
        
        
        
        ">
      <a href="/about-this-site/">
          About This Site
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/getting-started-with-r/" title="Getting Started with R" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/">
          Getting Started with R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/installing-r-rstudio/" title="Installing R and R Studio" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/installing-r-rstudio/">
          Installing R and R Studio
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/rstudio-notebooks/" title="Using R Notebooks" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/rstudio-notebooks/">
          Using R Notebooks
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/project-managment/" title="Basic Project Management" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/project-managment/">
          Basic Project Management
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/data-entry/" title="Data Entry" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/data-entry/">
          Data Entry
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/importing-data/" title="Importing Data" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/importing-data/">
          Importing Data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/getting-started-with-r/data-types-structure/" title="Data Types &#43; Structure" class="dd-item
        
        
        
        ">
      <a href="/getting-started-with-r/data-types-structure/">
          Data Types &#43; Structure
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/data-manipulation/" title="Data Manipulation" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/">
          Data Manipulation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/data-manipulation/making-new-variables/" title="Making New Variables" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/making-new-variables/">
          Making New Variables
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/data-manipulation/subsetting-data/" title="Subsetting data" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/subsetting-data/">
          Subsetting data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/data-manipulation/summarising-data/" title="Summarising data" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/summarising-data/">
          Summarising data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/data-manipulation/combining-datasets/" title="Combining datasets" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/combining-datasets/">
          Combining datasets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/data-manipulation/reshaping-data/" title="Reshaping data" class="dd-item
        
        
        
        ">
      <a href="/data-manipulation/reshaping-data/">
          Reshaping data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/coding-skills/" title="Coding Skills" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/">
          Coding Skills
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/coding-skills/good-practice/" title="Good Practices for Code" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/good-practice/">
          Good Practices for Code
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/coding-skills/writing-functions/" title="Writing Functions" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/writing-functions/">
          Writing Functions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/coding-skills/loops/" title="Using Loops" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/loops/">
          Using Loops
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/coding-skills/version-control/" title="Version Control" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/version-control/">
          Version Control
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/coding-skills/asking-code-questions/" title="Asking code questions" class="dd-item
        
        
        
        ">
      <a href="/coding-skills/asking-code-questions/">
          Asking code questions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/graphics/" title="Graphics" class="dd-item
        parent
        
        
        ">
      <a href="/graphics/">
          Graphics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/graphics/basic-plotting/" title="Basic Plotting in R" class="dd-item
        
        
        
        ">
      <a href="/graphics/basic-plotting/">
          Basic Plotting in R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/graphics/basic-plotting/one-continuous/" title="One Continuous Variable" class="dd-item
        
        
        
        ">
      <a href="/graphics/basic-plotting/one-continuous/">
          One Continuous Variable
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/basic-plotting/two-continuous/" title="Two Continuous Variable" class="dd-item
        
        
        
        ">
      <a href="/graphics/basic-plotting/two-continuous/">
          Two Continuous Variable
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/basic-plotting/one-continuous-one-factor/" title="One Continuous and One Categorical Variable" class="dd-item
        
        
        
        ">
      <a href="/graphics/basic-plotting/one-continuous-one-factor/">
          One Continuous and One Categorical Variable
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/" title="Plotting in R with ggplot2" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/">
          Plotting in R with ggplot2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/ggplot-basics/" title="The Basics of ggplot2" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/ggplot-basics/">
          The Basics of ggplot2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/ggplot-appearance/" title="Customising your ggplot" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/ggplot-appearance/">
          Customising your ggplot
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/ggplot-labels/" title="Titles and Axes Labels" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/ggplot-labels/">
          Titles and Axes Labels
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/ggplot-colour-shapes/" title="Colours and Shapes" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/ggplot-colour-shapes/">
          Colours and Shapes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/ggplot/ggplot-barplot/" title="Barplot with Errorbars" class="dd-item
        
        
        
        ">
      <a href="/graphics/ggplot/ggplot-barplot/">
          Barplot with Errorbars
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/multivariate-vis/" title="Multivariate Data" class="dd-item
        
        
        
        ">
      <a href="/graphics/multivariate-vis/">
          Multivariate Data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/graphics/multivariate-vis/mds/" title="Multidimensional Scaling" class="dd-item
        
        
        
        ">
      <a href="/graphics/multivariate-vis/mds/">
          Multidimensional Scaling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/multivariate-vis/pca/" title="Principal Component Analysis" class="dd-item
        
        
        
        ">
      <a href="/graphics/multivariate-vis/pca/">
          Principal Component Analysis
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/multivariate-vis/cluster-analysis/" title="Cluster Analysis" class="dd-item
        
        
        
        ">
      <a href="/graphics/multivariate-vis/cluster-analysis/">
          Cluster Analysis
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/multivariate-vis/heatmaps/" title="Heatmaps" class="dd-item
        
        
        
        ">
      <a href="/graphics/multivariate-vis/heatmaps/">
          Heatmaps
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/spatial-vis/" title="Spatial Data" class="dd-item
        parent
        
        
        ">
      <a href="/graphics/spatial-vis/">
          Spatial Data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/graphics/spatial-vis/basic-raster/" title="The Basics of Rasters" class="dd-item
        parent
        active
        
        ">
      <a href="/graphics/spatial-vis/basic-raster/">
          The Basics of Rasters
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/spatial-vis/simple-maps/" title="Simple Maps with ggmap" class="dd-item
        
        
        
        ">
      <a href="/graphics/spatial-vis/simple-maps/">
          Simple Maps with ggmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/graphics/spatial-vis/interactive/" title="Interactive Maps in R" class="dd-item
        
        
        
        ">
      <a href="/graphics/spatial-vis/interactive/">
          Interactive Maps in R
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/statistics/" title="Statistics" class="dd-item
        
        
        
        ">
      <a href="/statistics/">
          Statistics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/t-tests/" title="T-tests" class="dd-item
        
        
        
        ">
      <a href="/statistics/t-tests/">
          T-tests
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/t-tests/one-sample/" title="One Sample T-test" class="dd-item
        
        
        
        ">
      <a href="/statistics/t-tests/one-sample/">
          One Sample T-test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/t-tests/two-sample/" title="Two Sample T-test" class="dd-item
        
        
        
        ">
      <a href="/statistics/t-tests/two-sample/">
          Two Sample T-test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/t-tests/paired-t-test/" title="Paired T-test" class="dd-item
        
        
        
        ">
      <a href="/statistics/t-tests/paired-t-test/">
          Paired T-test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/" title="Linear Models" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/">
          Linear Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/linear-regression/" title="Linear Regression" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/linear-regression/">
          Linear Regression
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/linear-regression/interpret-lm-coeffs/" title="Interpreting Linear Regressions" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/linear-regression/interpret-lm-coeffs/">
          Interpreting Linear Regressions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/anova/" title="ANOVA" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/anova/">
          ANOVA
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/anova/anova-single/" title="Single Factor ANOVA" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/anova/anova-single/">
          Single Factor ANOVA
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/anova/anova-factorial/" title="Factorial ANOVA" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/anova/anova-factorial/">
          Factorial ANOVA
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/anova/anova-nested/" title="Nested ANOVA" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/anova/anova-nested/">
          Nested ANOVA
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/linear-models/interactions/" title="Understanding Interactions" class="dd-item
        
        
        
        ">
      <a href="/statistics/linear-models/interactions/">
          Understanding Interactions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/glms/" title="Generalised Linear Models (GLMs)" class="dd-item
        
        
        
        ">
      <a href="/statistics/glms/">
          Generalised Linear Models (GLMs)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/glms/glm-1/" title="Introduction and Binary Data" class="dd-item
        
        
        
        ">
      <a href="/statistics/glms/glm-1/">
          Introduction and Binary Data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/glms/glm-2/" title="Count Data" class="dd-item
        
        
        
        ">
      <a href="/statistics/glms/glm-2/">
          Count Data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/glms/interpret-glm-coeffs/" title="Interpreting GLMs" class="dd-item
        
        
        
        ">
      <a href="/statistics/glms/interpret-glm-coeffs/">
          Interpreting GLMs
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/mixed-models/" title="Mixed Models" class="dd-item
        
        
        
        ">
      <a href="/statistics/mixed-models/">
          Mixed Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/mixed-models/mixed-model-1/" title="Introduction" class="dd-item
        
        
        
        ">
      <a href="/statistics/mixed-models/mixed-model-1/">
          Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/mixed-models/mixed-model-2/" title="Crossed and Nested Factors" class="dd-item
        
        
        
        ">
      <a href="/statistics/mixed-models/mixed-model-2/">
          Crossed and Nested Factors
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/mixed-models/mixed-model-3/" title="Generalised Mixed Models" class="dd-item
        
        
        
        ">
      <a href="/statistics/mixed-models/mixed-model-3/">
          Generalised Mixed Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/gams/" title="Generalised Additive Models (GAMs)" class="dd-item
        
        
        
        ">
      <a href="/statistics/gams/">
          Generalised Additive Models (GAMs)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/catagorical/" title="Catagorial Data Analyses" class="dd-item
        
        
        
        ">
      <a href="/statistics/catagorical/">
          Catagorial Data Analyses
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/catagorical/goodness-of-fit/" title="Goodness of Fit" class="dd-item
        
        
        
        ">
      <a href="/statistics/catagorical/goodness-of-fit/">
          Goodness of Fit
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/catagorical/contingency-tabs/" title="Contingency Tables" class="dd-item
        
        
        
        ">
      <a href="/statistics/catagorical/contingency-tabs/">
          Contingency Tables
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/catagorical/fishers-exact/" title="Fisher&#39;s Exact Test" class="dd-item
        
        
        
        ">
      <a href="/statistics/catagorical/fishers-exact/">
          Fisher&#39;s Exact Test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/power-analysis/" title="Power Analyses" class="dd-item
        
        
        
        ">
      <a href="/statistics/power-analysis/">
          Power Analyses
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/mvabund/" title="Multivariate Analysis with mvabund" class="dd-item
        
        
        
        ">
      <a href="/statistics/mvabund/">
          Multivariate Analysis with mvabund
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/time-series/" title="Time Series Forecast" class="dd-item
        
        
        
        ">
      <a href="/statistics/time-series/">
          Time Series Forecast
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/meta-analysis/" title="Meta-Analyses" class="dd-item
        
        
        
        ">
      <a href="/statistics/meta-analysis/">
          Meta-Analyses
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/statistics/meta-analysis/meta-analysis-1/" title="Introduction" class="dd-item
        
        
        
        ">
      <a href="/statistics/meta-analysis/meta-analysis-1/">
          Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/meta-analysis/meta-analysis-2/" title="Fixed-effect and Random-effect Models" class="dd-item
        
        
        
        ">
      <a href="/statistics/meta-analysis/meta-analysis-2/">
          Fixed-effect and Random-effect Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/statistics/meta-analysis/meta-analysis-3/" title="Multilevel Models" class="dd-item
        
        
        
        ">
      <a href="/statistics/meta-analysis/meta-analysis-3/">
          Multilevel Models
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/matcornic/hugo-theme-learn/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/graphics/spatial-vis/basic-raster/_index.html" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/graphics/'>Graphics</a> > <a href='/graphics/spatial-vis/'>Spatial Data</a> > The Basics of Rasters
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              The Basics of Rasters
            </h1>
          

        



	
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>This tutorial is focused on introducing the bascis of what a raster is, and then how to get raster data into R and do some basic manipulation. If you just need to make a pretty site location map, or something similar, then you might be best starting with <a href="http://environmentalcomputing.net/making-simple-maps/">this tutorial</a>.</p>
<div id="lets-get-set-up-first" class="section level3">
<h3>Let’s get set up first</h3>
<p>Check if you can see the data we’ll be using (your working directory should be this file’s location)</p>
<pre class="r"><code>file.exists(&quot;Cairns_Mangroves_30m.tif&quot;)
file.exists(&quot;SST_feb_2013.img&quot;)
file.exists(&quot;SST_feb_mean.img&quot;)</code></pre>
<p>Install the packages we’re going to need - the raster package is the key library for raster objects in R, dismo has some nice wrappers for various sampling functions (plus some other neat SDM related stuff), and rgdal has a lot of the drivers for reading and writing various spatial data formats</p>
<pre class="r"><code>install.packages(c(&#39;raster&#39;, &#39;dismo&#39;,&#39;rgdal&#39;))</code></pre>
<p>Check that you can load them</p>
<pre class="r"><code>library(raster)
library(dismo)
library(rgdal)</code></pre>
</div>
<div id="what-is-a-raster" class="section level3">
<h3>What is a raster?</h3>
<p>Now we’re ready to go, but firstly, what is a raster? Well, simply, it is a grid of coordinates for which we can define certain values across, and we display the corresponding grid elements according to those values. The raster data is essentially a matrix, but a raster is special in that we define what shape and how big each grid element is, and usually where the grid should sit in some known space (i.e. a geographic projected coordinate system).</p>
<p><img src="teaser_plot.png" /></p>
</div>
<div id="understanding-raster-data" class="section level3">
<h3>Understanding Raster Data</h3>
<p>Make a raster object, and query it</p>
<pre class="r"><code>dummy_raster &lt;- raster(ncol = 10, nrow = 10) # let&#39;s make a small raster
nrow(dummy_raster) # number of pixels
ncol(dummy_raster) # number of pixels
ncell(dummy_raster) # total number of pixels 
plot(dummy_raster) # doesn&#39;t plot because the raster is empty
hasValues(dummy_raster) # can check whether your raster has data
values(dummy_raster) &lt;- 1 # give the raster a pixel value - in this case 1
plot(dummy_raster) # entire raster has a pixel value of 1 </code></pre>
<p>Make a random number raster so we can see what’s happening a little easier</p>
<pre class="r"><code>values(dummy_raster) &lt;- runif(ncell(dummy_raster)) # each pixel is assigned a random number
plot(dummy_raster) # raster now has pixels with random numbers
values(dummy_raster) &lt;- runif(ncell(dummy_raster))
plot(dummy_raster)
dummy_raster[1,1] # we can query rasters (and subset the maxtrix values) using standard R indexing
dummy_raster[1,]
dummy_raster[,1]</code></pre>
<p>Use this to interactively query the raster - press esc to exit</p>
<pre class="r"><code>click(dummy_raster)</code></pre>
<p>What’s special about a raster object?</p>
<pre class="r"><code>str(dummy_raster) # note the CRS and extent, plus plenty of other slots
crs(dummy_raster) # check what coordinate system it is in, the default in the PROJ.4 format
xmax(dummy_raster) # check extent
xmin(dummy_raster)
ymax(dummy_raster)
ymin(dummy_raster)
extent(dummy_raster) # easier to use extent
res(dummy_raster)  # resolution
xres(dummy_raster) # just pixel width
yres(dummy_raster) # just pixel height</code></pre>
<div id="excercises" class="section level4">
<h4>Excercises</h4>
<ul>
<li>make a raster with a smiley face (tip: make a blank raster, then use indexing to change values sequentially)</li>
<li>extract some vector and matrix data from the raster (tip: use indexing or things like <code>?as.matrix</code>)</li>
<li>subset the raster into a smaller chunk (tricker - see <code>?crop</code>)</li>
</ul>
</div>
</div>
<div id="working-with-real-raster-data" class="section level3">
<h3>Working with real raster data</h3>
<p>Import the Cairns mangrove data and have a look at it</p>
<pre class="r"><code>mangrove &lt;- raster(&quot;Cairns_Mangroves_30m.tif&quot;) 
crs(mangrove) # get projection
plot(mangrove, col = topo.colors(&quot;2&quot;)) # note two pixel values, 0 (not mangrove) and 1 (mangrove)
NAvalue(mangrove) &lt;- 0 # make a single binary dataset with mangroves having a raster value 1
plot(mangrove, col = &quot;mediumseagreen&quot;)</code></pre>
<p>The legend is a little odd - we can change to a categorical legend by doign this - but we’ll stick to the default continous bar generally so as to reduce clutter in the code</p>
<pre class="r"><code>cols &lt;- c(&quot;white&quot;,&quot;red&quot;)
plot(mangrove, col = cols, legend = F)
legend(x = &#39;bottomleft&#39;, legend = c(&quot;no mangrove&quot;, &quot;mangrove&quot;), fill = cols)</code></pre>
<p>Simple processing</p>
<pre class="r"><code>agg_mangrove &lt;- aggregate(mangrove, fact = 10) # aggregate/resample cells (10 times bigger)

par(mfrow = c(2,2))
plot(mangrove, col = &quot;mediumseagreen&quot;)
plot(agg_mangrove, col = &quot;firebrick&quot;)
plot(agg_mangrove, col = &quot;firebrick&quot;)
plot(mangrove, col = &quot;mediumseagreen&quot;, add = TRUE) # add information to current plot</code></pre>
<p>Create a simple buffer</p>
<pre class="r"><code>buf_mangrove &lt;- buffer(agg_mangrove, width = 1000) # add a buffer
plot(buf_mangrove, col = &quot;peachpuff&quot;)
plot(mangrove, col = &quot;mediumseagreen&quot;, add = T) # note add= argument</code></pre>
<p>Note at this point, we could mess around with the margins if we cared about that, e.g. <code>par(mar = c(2,1,2,1), oma = c(2,1,2,1))</code>.</p>
<p>Convert raster to point data, and then import point data as raster</p>
<pre class="r"><code>pts_mangrove &lt;- rasterToPoints(mangrove)
str(pts_mangrove)

par(mfrow = c(2,2))
plot(mangrove)
plot(rasterFromXYZ(pts_mangrove)) # huh?

NAvalue(mangrove) &lt;- -999
pts_mangrove &lt;- rasterToPoints(mangrove)
plot(rasterFromXYZ(pts_mangrove))

NAvalue(mangrove) &lt;- 0 # set it back to 0
dev.off()</code></pre>
<p>Export your data - lets try the aggregated raster</p>
<pre class="r"><code>KML(agg_mangrove, &quot;agg_mangrove.kml&quot;, overwrite = TRUE)
writeRaster(agg_mangrove, &quot;agg_mangrove.tif&quot;, format = &quot;GTiff&quot;)</code></pre>
<p>Now, what about multiband rasters? The raster package handles them in the same way, just the <code>nbands()</code> attribute is &gt;1 - think about an array instead of a matrix</p>
<pre class="r"><code>multiband &lt;- raster(&quot;multiband.tif&quot;)
nbands(multiband)
nrow(multiband) 
ncol(multiband) 
ncell(multiband) </code></pre>
<p>What about making our own multiband raster?</p>
<pre class="r"><code>for (i in 1:4) { assign(x = paste0(&quot;band&quot;,i), value = raster(ncol = 10, nrow = 10)) }
values(band1) &lt;- runif(100); values(band2) &lt;- runif(100); values(band3) &lt;- runif(100); values(band4) &lt;- runif(100)
multiband_stack &lt;- stack(list(band1, band2, band3, band4))
nlayers(multiband_stack)
plot(multiband_stack)</code></pre>
<p>Plotting an RGB image?</p>
<pre class="r"><code>plotRGB(multiband_stack, r = 1, g = 2, b = 3)
range(multiband_stack)
plotRGB(multiband_stack, r = 1, g = 2, b = 3, scale = 1) # let it know what the max value is for display
plotRGB(multiband_stack, r = 3, g = 2, b = 1, scale = 1)
plotRGB(multiband_stack, r = 2, g = 3, b = 4, scale = 1)</code></pre>
<p>Other handy processing functions</p>
<pre class="r"><code>?crop
?merge
?trim
?interpolate
?reclassify
?rasterToPolygons</code></pre>
<p>Some handy analysis functions</p>
<pre class="r"><code>?zonal # zonal statistics
?focal # moving windows
?calc # raster calculator
?distance # distance calculations
?sampleRandom
?sampleRegular
?sampleStratified</code></pre>
<p>We won’t go into detail on coordinate and projection systems today, but <em>very</em> briefly, <code>CRS()</code> and <code>crs()</code> are they key functions/objects</p>
<pre class="r"><code>crs(mangrove)
proj4string(mangrove)

latlong &lt;- &quot;+init=epsg:4326&quot;
CRS(latlong)
eastnorth &lt;- &quot;+init=epsg:3857&quot;
CRS(eastnorth)

latlongs_mangrove &lt;- rasterToPoints(mangrove, spatial=T)
latlongs_mangrove
projected_pts_mangrove &lt;- spTransform(latlongs_mangrove, CRS(eastnorth))
projected_pts_mangrove</code></pre>
<div id="excercises-1" class="section level4">
<h4>Excercises</h4>
<ul>
<li>import the raster “Landsat_TIR.tif” - it’s a TIR (thermal infrared) image from the Landsat 8 satellite captured over a cropping area</li>
<li>suppose we modelled the TIR values via linear regression to calculate the real on ground temperature, and beta0 was 0.5 and beta1 was 0.1 (i.e. y = 0.1x + 0.5) - make a map of temperature (hint: <code>?calc</code>, and you’ll need to write a function)</li>
<li>give the plot a title and axis labels, and colours that make sense for temperature</li>
<li>make a matching raster (in extent and number of pixels, for the easiest solution) with zone codes (for each pixel), then calulate the mean/sd temperature in those zones (hint: <code>?values</code> and <code>?zonal</code>)</li>
</ul>
</div>
</div>
<div id="extending-raster-analyses" class="section level3">
<h3>Extending raster analyses</h3>
<p>Now let’s take a bit of a whirlwind tour of the types of analyses we can do, and hopefully discover a bit deeper understanding of raster analysis in R.</p>
<p>Load up some SST data - Feb 2013 for the globe (as an aside, check <a href="http://oceancolor.gsfc.nasa.gov/cms/">this link</a> for more great ocean global data sets:</p>
<pre class="r"><code>sst_feb &lt;- raster(&quot;SST_feb_2013.img&quot;)
plot(sst_feb)</code></pre>
<p><img src="/graphics/spatial-vis/basic-raster/_index_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>Crop it to the pacific so we can compare our mangrove data</p>
<pre class="r"><code>pacific_extent &lt;- extent(mangrove) + 80 # take advantage of the way R handles vector arithmatic!
pacific_extent # check it
sst_feb_crop &lt;- crop(sst_feb, pacific_extent) # crop to the pacific
plot(sst_feb_crop)</code></pre>
<p>Load up the long term mean SST data for Feb</p>
<pre class="r"><code>sst_feb_mn &lt;- raster(&quot;SST_feb_mean.img&quot;)
plot(sst_feb_mn)
sst_mn_crop &lt;- crop(sst_feb_mn, pacific_extent)
plot(sst_mn_crop)</code></pre>
<p>Now let’s make an SST anomoly map</p>
<pre class="r"><code>sst_anomaly &lt;- sst_feb_crop - sst_mn_crop # R + {raster} matrix arithmatic
plot (sst_anomaly) # plot the anomaly map
plot(sst_anomaly, col = rev(heat.colors(&quot;100&quot;))) # heat colours
contour(sst_anomaly, add = T) # add contours</code></pre>
<p>Query single values,</p>
<pre class="r"><code>minValue(sst_anomaly) # coldest pixel
maxValue(sst_anomaly) # warmest pixel
plot(sst_anomaly == maxValue(sst_anomaly))</code></pre>
<p>or plots/stats for the entire image,</p>
<pre class="r"><code>plot(sst_anomaly &gt; 1)
par(mar = c(3,3,3,3))
hist(sst_anomaly, main = &quot;February SST Anomaly&quot;, xlab = &quot;sst anomaly&quot;)</code></pre>
<p>or let’s be a litle more tricky!</p>
<pre class="r"><code>max_anom &lt;- which.max(sst_anomaly)
max_xy &lt;- xyFromCell(sst_anomaly, max_anom)
plot(sst_anomaly, col = rev(heat.colors(&quot;100&quot;)),
     main = &quot;2013 Feb SST anomaly + hottest point&quot;)
points(max_xy, pch=8, cex=2)</code></pre>
<p><img src="/graphics/spatial-vis/basic-raster/_index_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>Sampling points conditionally? Sure. We’ll see a better wrapper for this further down though.</p>
<pre class="r"><code>xy &lt;- xyFromCell(sst_anomaly, sample(1:ncell(sst_anomaly), 20)) # 20 random points
points(xy)
extract(sst_feb, xy)</code></pre>
<p>Try out <code>?getValues</code> too. OK, re-capping writing back to disk</p>
<pre class="r"><code># writing rasters
writeRaster(sst_anomaly, &quot;sst_anomaly.tif&quot;, format = &quot;GTiff&quot;)
KML(sst_anomaly, &quot;sst_anomaly.kml&quot;)
save(sst_anomaly, file=&quot;sst_anomaly_feb.RData&quot;)
save(sst_feb_mn, file=&quot;sst_feb_mn.RData&quot;) # check the file size, huh?</code></pre>
<p>What’s going on with those last two <code>save()</code> commands? Something else to understand about the way the <code>raster</code> package handles raster files is that for larger rasters, the whole file is not stored in memory, rather it is just a pointer to the file. You can test whether or not it is</p>
<pre class="r"><code>inMemory(sst_feb_mn) # R will only access file  when needed.
inMemory(sst_anomaly) # it&#39;s in memory. </code></pre>
<p>We saw <code>stack()</code> earlier, and we can use it for multi-band imagery, but also to stack up different information sources. <code>brick()</code> works in the same way, except that <code>RasterBrick</code> objects are designed for smaller data, and a <code>RasterBrick</code> can only point to one file, opposed to a <code>RasterStack</code> objects, which can point to multiple files.</p>
<pre class="r"><code>sst_stack &lt;- stack(sst_mn_crop, sst_feb_crop, sst_anomaly)
plot(sst_stack)
nlayers(sst_stack)
plot(sst_stack, 2)
names(sst_stack)[3] &lt;- &quot;SST_anomaly&quot;</code></pre>
<p>So we can see why that might be useful for various remote sensing and modelling applicaitons.</p>
</div>
<div id="modelling-and-interpolation" class="section level3">
<h3>Modelling and interpolation</h3>
<p>Now let’s look at quick example of what we can do with rasters in context of species distribution modelling and spatial modelling. First lets extract some random points - make sure you’ve run <code>library(dismo)</code></p>
<pre class="r"><code>rpoints_sst &lt;- randomPoints(sst_stack, 500) #?randomPoints for more options
plot(sst_stack, 2)
points(rpoints_sst, pch = 16, cex = 0.7)
sst_samp &lt;- extract(sst_stack, rpoints_sst)  # extract values through stack this time
str(sst_samp)
sst_samp &lt;- data.frame(sst_samp,
                       lat = rpoints_sst[,2], lon = rpoints_sst[,1])
plot(sst_samp$SST_anomaly ~ sst_samp$SST_feb_2013)
#abline(lm(sst_samp$SST_anomaly ~ sst_samp$SST_feb_2013))
#plot(mgcv::gam(sst_samp$SST_anomaly ~ s(sst_samp$SST_feb_2013)), resid = T)</code></pre>
<p>What if we had some real biological data at those points? Well, let’s make some up, and then fit a model to it</p>
<pre class="r"><code>sst_samp$shark_abund &lt;- rpois(n = nrow(sst_samp), lambda = round(sst_samp$SST_feb_2013))
plot(sst_samp$shark_abund ~ sst_samp$SST_feb_2013)
shark_glm &lt;- glm(shark_abund ~ SST_feb_2013 + SST_anomaly, 
                 data = sst_samp, family = &quot;poisson&quot;)
summary(shark_glm)</code></pre>
<p>We would usually use <code>predict()</code> on a model fit object, and we can use it similarly for predicting out to raster data</p>
<pre class="r"><code>head(predict(shark_glm, type = &quot;response&quot;))
shark_predict &lt;- predict(sst_stack, shark_glm, type = &#39;response&#39;)
plot(shark_predict, col = rev(rainbow(n = 10, start = 0, end = 0.3)),
     main = &quot;Shark abundance as a function of SST&quot;)</code></pre>
<p><img src="/graphics/spatial-vis/basic-raster/_index_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>Let’s try somethign else, say attack risk. It’s not just about abdundance, something else like how mean or aggressive they are?</p>
<pre class="r"><code>sst_samp$shark_aggression &lt;- sst_samp$lat * -1 # so agression goes up with lattitude
sst_samp$shark_attack &lt;- scale(sst_samp$shark_abund * sst_samp$shark_aggression)
attack_lm &lt;- lm(shark_attack ~ SST_feb_2013 + SST_anomaly, 
                 data = sst_samp)
shark_attack &lt;- predict(sst_stack, attack_lm, type = &#39;response&#39;)
plot(shark_attack, col = rev(rainbow(n = 10, start = 0, end = 0.3)),
     main = &quot;Shark attack index!&quot;)</code></pre>
<p><img src="/graphics/spatial-vis/basic-raster/_index_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>This is a quick and silly example. If we were less lazy, we might create a new image stack with the abundance predicitons and the lattitude values, pull the random samples out again, and re-fit the model and predictions.</p>
<div id="excercises-2" class="section level4">
<h4>Excercises</h4>
<ul>
<li>try generating some stats (values or plots) for SST anomaly for different regions, either across the globe or across Australia</li>
<li>try some band math, or some conditional statements using multiple rasters or a RasterStack</li>
<li>create another SDM scenario - either using downloaded data, or totally simulated data</li>
<li>if we just had the physical data at some points, and wanted to make those into a geographically weighted or interpolated SST map? You could sample some of the points then use <code>library(gstat)</code> to try an IDW (inverse distance weighted) interpolation. Do some interpolations, varying the number of points used, and see how that effects your interpollated product</li>
</ul>
</div>
</div>
<div id="some-more-stuff-to-investigate" class="section level3">
<h3>Some more stuff to investigate</h3>
<p>Some of the other commonly used packages for spatial data analysis</p>
<pre class="r"><code>library(sp) # used here, but owrht checking out exdlicitly
library(maps)
library(rasterVis)
library(maptools)
library(mapproj)
library(rgeos) # watch proprietory stuff here</code></pre>
<p>You could also try getting bioclim climate data using the <code>getData()</code> function from the <code>raster</code> package, or getting various types of maps using the <code>gmap()</code> function from the <code>dismo</code> package or the <code>map</code> function from the <code>maps</code> package. If you go to the github page for this tutorial, you’ll find some answers to the excercies, plus some extra goodies realting to the above suggestions too.</p>
<p><strong>Author</strong>: Mitchell Lyons</p>
<p>Last updated:</p>
<pre><code>## [1] &quot;Tue Jan 25 2022&quot;</code></pre>
</div>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/graphics/spatial-vis/" title="Spatial Data"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/graphics/spatial-vis/simple-maps/" title="Simple Maps with ggmap" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1643067537"></script>
    <script src="/js/perfect-scrollbar.min.js?1643067537"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1643067537"></script>
    <script src="/js/jquery.sticky.js?1643067537"></script>
    <script src="/js/featherlight.min.js?1643067537"></script>
    <script src="/js/highlight.pack.js?1643067537"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1643067537"></script>
    <script src="/js/learn.js?1643067537"></script>
    <script src="/js/hugo-learn.js?1643067537"></script>
    
        
            <script src="/mermaid/mermaid.js?1643067537"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105947713-1', 'auto');
  ga('send', 'pageview');

</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
</script>

<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"> </script>


  </body>
</html>
